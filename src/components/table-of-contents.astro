---
// Table of Contents component for blog posts
---

<aside
	id="toc-sidebar"
	class="hidden xl:block fixed top-32 right-[max(0px,calc(50%-45rem))] w-64 h-[calc(100vh-10rem)] overflow-y-auto"
>
	<nav class="sticky top-0">
		<h2
			class="text-sm font-semibold text-neutral-900 dark:text-neutral-100 mb-4"
		>
			目录
		</h2>
		<ul id="toc-list" class="space-y-2 text-sm border-l-2 border-neutral-200 dark:border-neutral-800">
			<!-- TOC items will be inserted here by JavaScript -->
		</ul>
	</nav>
</aside>

<style>
	#toc-sidebar {
		scrollbar-width: thin;
		scrollbar-color: rgb(229 229 229) transparent;
	}

	#toc-sidebar::-webkit-scrollbar {
		width: 6px;
	}

	#toc-sidebar::-webkit-scrollbar-track {
		background: transparent;
	}

	#toc-sidebar::-webkit-scrollbar-thumb {
		background-color: rgb(229 229 229);
		border-radius: 3px;
	}

	:global(.dark) #toc-sidebar::-webkit-scrollbar-thumb {
		background-color: rgb(64 64 64);
	}

	#toc-list :global(a) {
		display: block;
		padding: 0.25rem 0 0.25rem 1rem;
		color: rgb(115 115 115);
		text-decoration: none;
		border-left: 2px solid transparent;
		margin-left: -2px;
		transition: all 0.2s ease;
	}

	#toc-list :global(a:hover) {
		color: rgb(23 23 23);
		border-left-color: rgb(212 212 212);
	}

	:global(.dark) #toc-list :global(a:hover) {
		color: rgb(245 245 245);
		border-left-color: rgb(64 64 64);
	}

	#toc-list :global(a.active) {
		color: rgb(23 23 23);
		border-left-color: rgb(23 23 23);
		font-weight: 500;
	}

	:global(.dark) #toc-list :global(a.active) {
		color: rgb(245 245 245);
		border-left-color: rgb(245 245 245);
	}

	/* Indentation for different heading levels */
	#toc-list :global(a[data-level="3"]) {
		padding-left: 1.5rem;
	}

	#toc-list :global(a[data-level="4"]) {
		padding-left: 2rem;
	}

	#toc-list :global(a[data-level="5"]) {
		padding-left: 2.5rem;
	}

	#toc-list :global(a[data-level="6"]) {
		padding-left: 3rem;
	}
</style>
